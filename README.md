# Technopark-Highload
homework №2 at the course of the technopark highload

### 1. Выбор темы
Сервис для размещения объявлений

### 2. Определение возможного диапазона нагрузок

На 2020 год население России составляет 146,75 млн. По данным с [wiki](https://ru.wikipedia.org/wiki/%D0%AE%D0%BB%D0%B0_(%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81_%D0%BE%D0%B1%D1%8A%D1%8F%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B9)) ежемесячная аудитория на Юле составляет 27 млн уникальных пользователей в месяц, что составляет примерно 20% населения России. Всего у Юлы 90 млн. активных пользователей. Среднее значение RPS = 12 тыс.

Основные действия на сайте [Юла](https://youla.ru/):
* регистрация и авторизация
* работа с профилем
* просмотр, создание и редактирование объявлений
* список новых объявлений, поиск по ключевым словам и категориям
* чат
* лайки, отзывы

### 3. Выбор планируемой нагрузки

Исходя из приведенной статистики для Юлы определим возможный диапазон нагрузки на нашем сервисе следующим образом:
* составляет 40 млн. уникальных пользователей в месяц
* 120 млн. активных пользователей
* среднее значение RPS = 20 тыс.

### 4. Логическая схема базы данных

Выделим основные сущности в нашем проекте: пользователь, объявление, категория, отзыв, чат и сообщения. На рисунке отображены поля моделей и заданы отношения между каждой из моделей.

![](files/models.jpg)

Стоит отдельно пояснить про механику взаимодействия между некоторыми моделями.
Так, например, "отзыв" имеет связь с "пользователем" и "объявлением", по причине того, что покупатель может оставить отзыв только после успешной покупки на нашем сервисе.
Модель "категория" наглядно представить в виде дерева, в котором родительские категории указывают на дочерние (например, животные -> кошки -> британская порода).
А связь "чат", "пользователь" и "объявление" установлена потому что каждое объявление имеет уникальный чат с покупателем и продавцом, и создается в случае инициативы покупателя или постановки лайка.

### 5. Физическая системы хранения



### 6. Выбор прочих технологий

##### Языки программирования

Backend - Golang. Язык предоставляет эффективный параллелизм, такой как C, C ++, Java, в то же время параллелизм в Go осуществляется намного проще благодаря горутинам, каналам и сборке мусора. Он имеет об обширную стандартную библиотеку, а также утилиты для форматирования кода, тестирования и расчета покрытия прямо из коробки. В нем очень удобно построена интеграция с внешними зависимостями посредствам go.mod. Go быстрый, кроссплатформенный, open-source с относительно низким порогом вхождения.

Frontend - HTML, CSS, TypeScript. Для  TypeScript будем использовать фреймворк React, который обеспечивает модульность, быстрый рендеринг, высокую run-time производительность. В сочетании с ES7 ReactTS может легко работать при высоких нагрузках. Также он имеет virtual DOM, которая позволяет упорядочивать документы форматов HTML, XHTML или XML в дерево, которое лучше всего подходит браузерам для анализа различных элементов веб-приложения.
	
##### Протоколы взаимодействия

Протокол связи между фронтендом и бэкендом - https, данные будут передаваться в формате json. 

Общение между микросервисами на бэкенде будет осуществляться по протоколу gRPC, данные будут передаваться в формате protobuf.

### 7. Расчет нагрузки и потребного оборудования

### 8. Выбор хостинга / облачного провайдера и расположения серверов

### 9. Схема балансировки нагрузки (входящего трафика и внутрипроектного, терминация SSL)

### 10. Обеспечение отказоустойчивости
